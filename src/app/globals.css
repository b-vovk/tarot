@import "tailwindcss";

/* app/globals.css */
:root {
  /* Mystic deck theme */
  --header-h: 56px;
  --bg-start: #171a2f;    /* deep indigo */
  --bg-end:   #0b0f1a;    /* space black */
  --card: #141a2b;        /* dark surface */
  --accent: #dabb67;      /* tarot gold */
  --accent-2: #8b7cf3;    /* royal violet */
  --text: #e8ecf8;        /* near-white */
  --muted: #9ea6bb;       /* cool gray */
  --title: #f4f6ff;       /* headings */
  --border: rgba(255,255,255,0.08);
  --radius-sm: 8px;
  --radius-md: 14px;
  --shadow-sm: 0 10px 30px rgba(0,0,0,0.4);
  --shadow-md: 0 14px 40px rgba(0,0,0,0.5);
  --ring: 0 0 0 4px rgba(218,187,103,0.25);
  
  /* Typography scale */
  --font-size-xs: 0.75rem;    /* 12px */
  --font-size-sm: 0.875rem;   /* 14px */
  --font-size-base: 1rem;     /* 16px */
  --font-size-lg: 1.125rem;   /* 18px */
  --font-size-xl: 1.25rem;    /* 20px */
  --font-size-2xl: 1.5rem;    /* 24px */
  --font-size-3xl: 1.875rem;  /* 30px */
  --font-size-4xl: 2.25rem;   /* 36px */
  
  /* Spacing scale */
  --spacing-1: 0.25rem;       /* 4px */
  --spacing-2: 0.5rem;        /* 8px */
  --spacing-3: 0.75rem;       /* 12px */
  --spacing-4: 1rem;          /* 16px */
  --spacing-5: 1.25rem;       /* 20px */
  --spacing-6: 1.5rem;        /* 24px */
  --spacing-8: 2rem;          /* 32px */
  --spacing-10: 2.5rem;       /* 40px */
  
  /* Single page specific */
  --single-title-size: var(--font-size-3xl);      /* 30px */
  --single-title-size-mobile: var(--font-size-2xl); /* 24px */
  --single-body-size: var(--font-size-base);      /* 16px */
  --single-body-size-mobile: var(--font-size-base); /* 16px - increased from 14px */
  
  /* Responsive card title sizing */
  /* Automatically scales font size based on viewport width */
  --card-title-base: 20px;                       /* Base size for mobile - increased from 18px to 20px */
  --card-title-scale: calc(100vw / 60);          /* Responsive scale factor - adjusted for larger base */
  --card-title-max: 38px;                        /* Maximum size - increased from 36px to 38px */
  --grid-title-base: 18px;                       /* Base size for grid deck - increased from 16px to 18px */
  --grid-title-scale: calc(100vw / 75);          /* Responsive scale for grid - adjusted for larger base */
  --grid-title-max: 34px;                        /* Maximum size for grid - increased from 32px to 34px */
  
  /* Common typography */
  --h1-size: var(--font-size-4xl);               /* 36px */
  --h1-size-mobile: var(--font-size-2xl);        /* 24px */
  --p-size: var(--font-size-base);               /* 16px */
  --p-size-mobile: var(--font-size-sm);          /* 14px */
  --small-text: var(--font-size-xs);             /* 12px */
}
* { box-sizing: border-box; }
html, body { height: 100%; overflow: hidden; overscroll-behavior: none; }
body {
  margin: 0;
  background:
    radial-gradient(1000px 600px at 50% -10%, #23274a 0%, transparent 60%) fixed,
    linear-gradient(180deg, var(--bg-start) 0%, var(--bg-end) 100%) fixed;
  color: var(--text);
  font-family: var(--font-inter), ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Apple Color Emoji, Segoe UI Emoji;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Tarot dotted starfield, very subtle */
body::after {
  content: "";
  position: fixed; inset: 0; pointer-events: none;
  background-image: radial-gradient(rgba(255,255,255,0.06) 1px, transparent 1.2px);
  background-size: 14px 14px;
}

/* Typography */
h1, h2, h3 { 
  color: var(--title); 
  font-family: var(--font-inter), ui-sans-serif, system-ui, -apple-system; 
  letter-spacing: 0.1px; 
  font-weight: 700; 
}
body, button, select, input, textarea { 
  font-family: var(--font-inter), ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Apple Color Emoji, Segoe UI Emoji; 
}

.siteHeader {
  position: sticky;
  top: 0;
  z-index: 20;
  padding-top: max(0px, env(safe-area-inset-top));
  backdrop-filter: blur(8px);
  background: rgba(14, 20, 34, 0.65);
  border-bottom: 1px solid rgba(218,187,103,0.22);
}

.siteFooter {
  position: fixed;
  left: 0; right: 0; bottom: 0;
  z-index: 10;
  border-top: 1px solid rgba(218,187,103,0.18);
  background: rgba(14, 20, 34, 0.5);
  backdrop-filter: blur(8px);
  color: var(--muted);
  font-size: 13px;
}
.siteFooter .container {
  padding: calc(10px + env(safe-area-inset-bottom)) 20px 10px;
  text-align: center;
}

.nav {
  max-width: 1040px;
  margin: 0 auto;
  padding: 14px 20px;
  display: flex;
  gap: 16px;
}

/* Brand link (logo + text) */
.brand {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  color: var(--text);
  text-decoration: none;
  font-weight: 700;
  border-radius: var(--radius-sm);
  border: 1px solid transparent;
  padding: 6px 8px;
}
.brand:hover {
  background: #1a2030;
  border-color: rgba(255,255,255,0.06);
}
.brandLogo {
  width: 36px;
  height: 36px;
  display: inline-block;
  color: var(--accent);
  filter: drop-shadow(0 1px 3px rgba(0,0,0,0.35));
}

/* Language switcher */
.langSwitcher {
  margin-left: auto;
  display: flex;
  align-items: center;
  gap: 8px;
}
.langLabel {
  margin-right: 8px;
  color: var(--muted);
  font-size: 12px;
}
.langSelect {
  background: #1a2030;
  color: var(--text);
  border-radius: 9999px;
  height: 34px;
  padding: 0 14px;
  line-height: 34px; /* helps vertical centering in many browsers */
  border: 1px solid rgba(255,255,255,0.12);
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  background-image: none;
  outline-offset: 2px;
  font-size: 14px;
  vertical-align: middle;
  text-align: center;           /* horizontal centering for most browsers */
  text-align-last: center;      /* Firefox: center selected value */
}
.langSelect, .langSelect option { font-family: var(--font-inter), ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Apple Color Emoji, Segoe UI Emoji; }
.langSelect:focus-visible { box-shadow: var(--ring); outline: none; }

.container {
  max-width: 1040px;
  margin: 0 auto;
  padding: 24px 20px 80px; /* bottom space for fixed footer */
}

/* Home background image layer */
.homeBg {
  position: fixed;
  inset: 0;
  z-index: -1;
  background: url("/images/compass-deco.svg") center/cover no-repeat;
  opacity: 0.18;
}

h1 { font-size: var(--h1-size); margin: 0 0 var(--spacing-2); }
p  { color: var(--muted); margin: 0 0 var(--spacing-6); }

.deck {
  display: grid;
  grid-template-columns: repeat(3, minmax(200px, 1fr));
  gap: clamp(16px, 3vw, 28px);
  align-items: start;
}

/* Grid deck cards (3 cards) - fully responsive titles */
.deck .cardTitleFixed {
  text-align: center !important;
  white-space: nowrap !important;
  overflow: visible !important;
  text-overflow: clip !important;
  transform: none !important;
  max-width: none !important;
  width: 100% !important;
  left: 0 !important;
  right: 0 !important;
  /* Responsive font sizing using CSS variables */
  /* Automatically scales from 14px to 28px based on viewport width */
  /* Ensures 20 characters always fit in card width */
  font-size: clamp(var(--grid-title-base), var(--grid-title-scale), var(--grid-title-max)) !important;
}

/* Single page layout: card + info */
.singleGrid {
  display: grid;
  grid-template-columns: minmax(240px, 340px) minmax(260px, 1fr);
  gap: clamp(16px, 3vw, 28px);
  align-items: start;
}
.singleGrid .deck {
  grid-template-columns: minmax(240px, 340px);
  justify-content: center;
}
.singleInfo {
  background: rgba(14, 20, 34, 0.5);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: var(--radius-md);
  padding: 16px;
  box-shadow: var(--shadow-sm);
}
.singleHeading { margin: 0 0 8px; font-weight: 700; }
.singleAspect { color: var(--accent); font-weight: 600; margin: 0 0 10px; }
.singleBody { color: var(--text); opacity: 0.9; }
.singleBody p { margin: 0 0 10px; line-height: 1.5; }

.singleHeader { text-align: center; margin: 8px 0 12px; }

/* Two-column row: card left, heading right */
.singleRow {
  display: grid;
  grid-template-columns: minmax(240px, 340px) 1fr;
  gap: clamp(48px, 10vw, 160px);
  align-items: start;
}
.singleColLeft .deck { grid-template-columns: minmax(240px, 340px); }
.singleColRight h1 { margin: 0 0 8px; }
.singleColRight { margin-left: clamp(-40px, -5vw, -18px); }
.singleColRight p { margin: 0 0 10px; color: var(--muted); }
.singleColRight .singleExtra p { 
  color: var(--text) !important; 
  opacity: 0.92; 
  display: block !important;
  visibility: visible !important;
}

@media (max-width: 768px) {
  /* Single card page: allow scrolling to show footer */
  .singlePage {
    min-height: calc(100dvh - var(--header-h) - var(--footer-h));
    display: flex;
    flex-direction: column;
    margin: -8px 0 0 -7px;
    padding: 8px 8px calc(20px + env(safe-area-inset-bottom)) 8px;
    justify-content: flex-start;
    align-items: flex-start;
    text-align: left;
  }
  
  /* Mobile: smaller titles for all contexts */
  .cardTitleFixed {
    font-size: clamp(14px, 3vw, 20px) !important;
  }
  
  /* Mobile single page: slightly larger */
  .singlePage .cardTitleFixed {
    font-size: clamp(16px, 4vw, 24px) !important;
  }
  /* Allow normal container padding for single pages to show footer */
  main.container:has(.singlePage) {
    padding-bottom: 24px;
    min-height: calc(100dvh - var(--header-h) - var(--footer-h));
    display: flex;
    flex-direction: column;
  }
  /* Show footer on single pages */

  .singleGrid {
    grid-template-columns: 1fr;
  }
  .singleRow { grid-template-columns: 1fr; gap: 12px; }
  .singleColLeft .deck { grid-template-columns: minmax(220px, 320px); }
  .singleColRight { text-align: left; margin-left: 0; }
  /* Reorder for mobile: title (right column) first, then card, then actions */
  .singleRow { 
    display: flex; 
    flex-direction: column; 
    flex: 1 1 auto; 
    min-height: 0;
    justify-content: flex-start;
    align-items: flex-start;
    width: 100%;
    gap: 8px;
  }
  .singleColRight { order: 1; width: 100%; text-align: left; }
  .singleColLeft { 
    order: 2; 
    display: flex; 
    flex-direction: column; 
    flex: 1 1 auto; 
    min-height: 0;
    width: 100%;
    align-items: flex-start;
    position: relative;
    justify-content: flex-start;
  }

  /* Ensure no overflow: scale the card to fit viewport between header and actions */
  .singleColLeft .deck { 
    flex: 1 1 auto; 
    display: flex; 
    align-items: flex-start; 
    justify-content: flex-start; 
    min-height: 0; 
    width: 100%;
    height: auto;
    margin: 0 !important;
    padding: 0 !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
    transform: none !important;
    position: relative !important;
  }
  .singleColLeft .deck > .card { 
    flex: 0 1 auto; 
    height: 52vh !important; 
    width: 100% !important; 
    max-width: 75vw !important;
    margin: 0 0 0 0 !important;
    margin-top: 0 !important;
    margin-bottom: 0 !important;
    margin-left: 0 !important;
    margin-right: auto !important;
    display: block !important;
    visibility: visible !important;
    background: transparent !important;
    border: none !important;
    border-radius: var(--radius-md) !important;
    min-height: 320px !important;
    min-width: 200px !important;
    position: relative !important;
    z-index: 100 !important;
    top: 0 !important;
    left: 0 !important;
    right: auto !important;
    overflow: hidden !important;
    perspective: 2000px !important;
    align-self: flex-start !important;
    justify-self: flex-start !important;
    transform: translateX(0) !important;
    float: none !important;
    clear: none !important;
  }
  
  .singleColLeft .deck > .card .cardInner,
  .singleColLeft .deck > .card .cardFace {
    border: none !important;
    border-radius: var(--radius-md) !important;
    box-shadow: none !important;
    background-size: contain !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
  }
  

  .singlePage h1 { margin: 0; font-size: 20px; }
  .singlePage p { margin: 0; font-size: 13px; color: var(--muted); }
  /* Hide subtitle below the title on mobile single page */
  .singlePage .singleColRight > p { display: none; }
  .singlePage .singleExtra { 
    display: none; 
  }

  /* Move background image lower on mobile for single pages */
  .singlePage .homeBg {
    background-position: center 60% !important;
  }



  /* Actions pinned near bottom, but keep within flow to respect keyboards */
  /* Force button alignment with title - maximum specificity */
  body .singlePage .singleColLeft .actions { 
    margin-top: 24px !important; 
    justify-content: flex-start !important; 
    margin-bottom: 0 !important;
    position: relative !important;
    left: 0 !important;
    right: 0 !important;
    z-index: 10 !important;
    padding-left: 0 !important;
    padding-right: 8px !important;
    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;
    justify-content: flex-start !important;
    gap: 12px !important;
    flex-wrap: nowrap !important;
  }
  
  .singlePage .singleColLeft .actions button.primary {
    white-space: nowrap !important;
    overflow: visible !important;
    max-width: 160px !important;
    min-width: 160px !important;
    width: 160px !important;
    flex-shrink: 0 !important;
    font-size: 13px !important;
    text-align: center !important;
    padding: 12px 12px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    line-height: 1.2 !important;
  }
  
  .singlePage .singleColLeft .actions button.secondary {
    white-space: nowrap !important;
    overflow: visible !important;
    max-width: 160px !important;
    min-width: 160px !important;
    width: 160px !important;
    flex-shrink: 0 !important;
    font-size: 13px !important;
    text-align: center !important;
    padding: 12px 12px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    line-height: 1.2 !important;
  }
  
  .singleColLeft .actions .helper {
    white-space: nowrap !important;
    overflow: visible !important;
    max-width: calc(75vw - 100px) !important;
    flex-shrink: 0 !important;
    font-size: 11px !important;
  }

  /* Override desktop centering for mobile single pages */
  .singlePage .singleColLeft .deck,
  .singleGrid .deck {
    justify-content: flex-start !important;
  }
  
  /* Force card alignment with title - using CSS variables */
  body .singlePage .singleColLeft .deck > .card {
    margin-left: 0 !important;
    margin-right: auto !important;
    position: relative !important;
    left: 0 !important;
    transform: translateX(0) !important;
    width: 100% !important;
    max-width: 75vw !important;
    --card-left: 0 !important;
    left: var(--card-left) !important;
  }
  
  /* Force deck container alignment - maximum specificity */
  body .singlePage .singleColLeft .deck {
    padding-left: 0 !important;
    margin-left: 0 !important;
    transform: translateX(0) !important;
    justify-content: flex-start !important;
    align-items: flex-start !important;
  }
  
  /* Override any centering on the singleColLeft container */
  .singlePage .singleColLeft {
    align-items: flex-start !important;
    justify-content: flex-start !important;
  }
  
  /* Force card alignment with title - highest specificity for mobile */
  body .singlePage .singleColLeft .deck > .card {
    left: 0 !important;
    margin-left: 0 !important;
    margin-right: auto !important;
    position: relative !important;
    transform: translateX(0) !important;
  }
  
  /* Additional override to ensure card alignment */
  .singlePage .singleColLeft .deck > .card {
    left: 0 !important;
    margin-left: 0 !important;
    position: relative !important;
    transform: translateX(0) !important;
  }
}

/* Single page card styles - apply to all screen sizes */
.singlePage .cardTitle {
  font-size: var(--single-title-size) !important;
  font-weight: 700;
  margin: 0 !important;
  padding: 0 0 var(--spacing-5) !important;
  text-align: center;
  text-shadow: 0 2px 4px rgba(0,0,0,0.5);
}

.singlePage .cardBody {
  font-size: 28px !important;
  line-height: 1.3; /* Reduced from 1.5 to 1.3 for tighter line spacing */
  margin: 0 !important;
  padding: var(--spacing-5) 0 var(--spacing-2) !important;
  text-align: justify !important;
  text-justify: inter-word !important;
  word-spacing: -0.1em !important;
  letter-spacing: 0.02em !important;
  white-space: normal !important;
  hyphens: auto !important;
  overflow-wrap: break-word !important;
  text-shadow: 0 2px 4px rgba(0,0,0,0.8), 0 1px 2px rgba(0,0,0,0.6);
  opacity: 1;
  font-weight: 500;
  color: var(--text);
}

.singlePage .cardTitleFixed {
  font-size: clamp(24px, 5.5vw, 36px) !important;
  font-weight: 700;
  line-height: 1.1;
}

/* Additional mobile styles for single page title */
     @media (max-width: 768px) {
     .singlePage .cardTitleFixed {
       font-size: clamp(24px, 5.5vw, 30px) !important;
     }
   }

/* Mobile adjustments for single page card fonts */
@media (max-width: 768px) {
  .singlePage .cardTitle {
    font-size: var(--single-title-size-mobile) !important;
  }
  
  .singlePage .cardBody {
    font-size: var(--single-body-size-mobile) !important;
    text-align: justify !important;
    text-justify: inter-word !important;
    word-spacing: -0.1em !important;
    letter-spacing: 0.02em !important;
    white-space: normal !important;
    hyphens: auto !important;
    overflow-wrap: break-word !important;
  }
  
  .singlePage .cardTitleFixed {
    font-size: clamp(20px, 5vw, 26px) !important;
    font-weight: 700 !important;
    line-height: 1.1 !important;
    top: 58px !important; /* Even higher position for mobile */
  }
  
  /* Force mobile styles with maximum specificity */
  body:has(.singlePage) .singlePage .cardTitleFixed {
    font-size: clamp(20px, 5vw, 26px) !important;
    top: 58px !important; /* Even higher position for mobile */
  }
  
  /* Mobile reversed card positioning */
  body:has(.singlePage) .singlePage .cardFront.reversed .cardTitleFixed {
    top: auto !important;
    bottom: 61px !important; /* Same distance as top: 58px for consistent positioning */
  }
}

/* Ensure single page truly has no vertical scroll on mobile */
@media (max-width: 768px) { body.is-single-page main.container { padding-bottom: 0 !important; } }

/* Show footer on single pages */

/* Show footer on desktop/web for all single page footer hiding rules */
@media (min-width: 769px) {
  body.is-single-page .siteFooter,
  body.is-single-page footer.siteFooter,
  .singlePage ~ .siteFooter,
  .singlePage + .siteFooter,
  main.container:has(.singlePage) ~ .siteFooter,
  main.container:has(.singlePage) + .siteFooter,
  main.container:has(.singlePage) .siteFooter,
  .siteFooter:has(+ main.container:has(.singlePage)),
  .siteFooter:has(~ main.container:has(.singlePage)) { 
    display: block !important; 
  }
}

/* Show footer on single pages */

/* Show footer on desktop/web for single pages */
@media (min-width: 769px) {
  .siteFooter:has(+ main.container:has(.singlePage)),
  .siteFooter:has(~ main.container:has(.singlePage)),
  body:has(.singlePage) .siteFooter,
  html:has(.singlePage) .siteFooter { 
    display: block !important; 
  }
  
  /* Force footer to show on desktop for any single page */
  main.container:has(.singlePage) ~ .siteFooter,
  main.container:has(.singlePage) + .siteFooter,
  .singlePage ~ .siteFooter,
  .singlePage + .siteFooter,
  body:has(.singlePage) .siteFooter,
  html:has(.singlePage) .siteFooter,
  .siteFooter {
    display: block !important;
  }
}
/* During instant reset, temporarily disable transforms/transitions to avoid flicker */
/* Hide fronts for unrevealed cards only when a new set just mounted */
.deck.fresh .card:not(.revealed) .cardFront { visibility: hidden; }
.deck.fresh .card:not(.revealed) .cardBack { visibility: visible; }

.card {
  width: 100%;
  aspect-ratio: 3 / 5;
  border-radius: var(--radius-md);
  perspective: 1000px;
  cursor: pointer;
  outline: none;
  font-family: var(--font-serif), serif;
}

.cardInner {
  position: relative;
  width: 100%;
  height: 100%;
  border-radius: var(--radius-md);
  transition: transform 0.6s;
  transform-style: preserve-3d;
}

.card.revealed .cardInner { transform: rotateY(180deg); }

.cardFace {
  position: absolute;
  inset: 0;
  backface-visibility: hidden;
  border-radius: var(--radius-md);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  border: 1px solid rgba(255,255,255,0.06);
  box-shadow: var(--shadow-sm);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  width: 100%;
  height: 100%;
}

/* BACK */
.cardBack {
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  color: var(--muted);
  font-family: var(--font-serif), serif;
}

/* Bottom label on back face: Love / Life / Career */
.cardBackLabel {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 14px;
  text-align: center;
  color: var(--accent);
  font-family: var(--font-serif), serif;
  font-weight: 400;
  letter-spacing: 1px;
  text-transform: uppercase;
  font-size: clamp(9px, 2.6vw, 13px);
  text-shadow: 0 1px 2px rgba(0,0,0,0.4);
  opacity: 0.9;
  pointer-events: none;
}

/* Title on back face uses same positioning */
.cardBack .cardTitleFixed {
  top: 32px;
}
.cardBack.reversed .cardTitleFixed {
  top: auto;
  bottom: 32px;
}

/* Three unique backs */
.cardBack-0 {
  background-image: url("/images/moon-phase-deco.svg");
}
.cardBack-1 {
  background-image: url("/images/mystic-star.svg");
}
.cardBack-2 {
  background-image: url("/images/sunburst-deco.svg");
}

/* FRONT */
.cardFront {
  /* Slightly warmer paper tone to match card backs */
  background: linear-gradient(180deg, #fff 0%, #f6f6f8 100%);
  color: #111;
  transform: rotateY(180deg);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  position: relative;
  font-family: var(--font-serif), serif;
}

/* Fixed title embedded on card */
.cardTitleFixed {
  position: absolute;
  left: 0;
  right: 0;
  top: 70px !important; /* Moved from 60px to 70px - slightly lower for better positioning */
  padding: 0 10px;
  color: var(--accent);
  text-align: center;
  text-shadow: 0 2px 6px rgba(0,0,0,0.7), 0 0 1px rgba(0,0,0,0.6);
  z-index: 11; /* above overlay */
  font-size: clamp(var(--card-title-base), var(--card-title-scale), var(--card-title-max)) !important;
  font-weight: 700;
  line-height: 1.2;
  opacity: 1;
  transform: translateX(0);
  width: 100%;
  box-sizing: border-box;
  white-space: nowrap;
  overflow: visible;
  text-overflow: clip;
  transform-origin: center;
  max-width: none;
  text-rendering: optimizeLegibility;
  letter-spacing: -0.02em;
  font-size-adjust: 0.5;
  word-spacing: -0.05em;
  hyphens: none;
  font-feature-settings: "liga" 1, "kern" 1;
  font-stretch: condensed;
  font-variant: normal;
  font-kerning: normal;
  font-synthesis: none;
  font-display: swap;
}

/* Match title color to motif on front and remove shadow for a clean gold look */
.cardFront .cardTitleFixed {
  color: #dabb67; /* same as motif stroke/fill */
  text-shadow: none;
}

.cardFront.reversed .cardTitleFixed {
  top: auto;
  bottom: 68px !important; /* Same distance as top: 70px for consistent positioning */
  transform: scaleY(-1) !important;
}

/* Individual card front images */
.cardFront-major-00-the-fool { 
  background-image: url("/images/front-fool.svg") !important;
}
.cardFront-major-01-the-magician { 
  background-image: url("/images/front-magician.svg") !important;
}
.cardFront-major-02-the-high-priestess { 
  background-image: url("/images/front-high-priestess.svg") !important;
}
.cardFront-major-03-the-empress {
  background-image: url("/images/front-the-empress.svg") !important;
}
.cardFront-major-04-the-emperor {
  background-image: url("/images/front-the-emperor.svg") !important;
}
.cardFront-major-15-the-devil {
  background-image: url("/images/front-the-devil.svg") !important;
}
.cardFront-major-13-death {
  background-image: url("/images/front-death.svg") !important;
}
.cardFront-major-12-the-hanged-man {
  background-image: url("/images/front-the-hanged-man.svg") !important;
}
.cardFront-major-14-temperance {
  background-image: url("/images/front-temperance.svg") !important;
}
.cardFront-major-06-the-lovers {
  background-image: url("/images/front-the-lovers.svg") !important;
}
.cardFront-major-05-the-hierophant {
  background-image: url("/images/front-the-hierophant.svg") !important;
}
.cardFront-major-19-the-sun {
  background-image: url("/images/front-the-sun.svg") !important;
}
.cardFront-major-21-the-world {
  background-image: url("/images/front-the-world.svg") !important;
}
.cardFront-major-07-the-chariot {
  background-image: url("/images/front-the-chariot.svg") !important;
}
.cardFront-major-08-strength {
  background-image: url("/images/front-strength.svg") !important;
}
.cardFront-major-09-the-hermit {
  background-image: url("/images/front-the-hermit.svg") !important;
}
.cardFront-major-10-wheel-of-fortune {
  background-image: url("/images/front-wheel-of-fortune.svg") !important;
}
.cardFront-major-11-justice {
  background-image: url("/images/front-justice.svg") !important;
}
.cardFront-major-16-the-tower {
  background-image: url("/images/front-the-tower.svg") !important;
}
.cardFront-major-17-the-star {
  background-image: url("/images/front-the-star.svg") !important;
}
.cardFront-major-18-the-moon {
  background-image: url("/images/front-the-moon.svg") !important;
}
.cardFront-major-20-judgement {
  background-image: url("/images/front-judgement.svg") !important;
}

/* Minor Arcana — Wands (explicit per-card mappings) */
.cardFront-wands-01-ace-of-wands {
  background-image: url("/images/front-ace-of-wands.svg") !important;
}
.cardFront-wands-02-two-of-wands {
  background-image: url("/images/front-two-of-wands.svg") !important;
}
.cardFront-wands-03-three-of-wands {
  background-image: url("/images/front-three-of-wands.svg") !important;
}
.cardFront-wands-04-four-of-wands {
  background-image: url("/images/front-four-of-wands.svg") !important;
}
.cardFront-wands-05-five-of-wands {
  background-image: url("/images/front-five-of-wands.svg") !important;
}
.cardFront-wands-06-six-of-wands {
  background-image: url("/images/front-six-of-wands.svg") !important;
}
.cardFront-wands-07-seven-of-wands {
  background-image: url("/images/front-seven-of-wands.svg") !important;
}
.cardFront-wands-08-eight-of-wands {
  background-image: url("/images/front-eight-of-wands.svg") !important;
}
.cardFront-wands-09-nine-of-wands {
  background-image: url("/images/front-nine-of-wands.svg") !important;
}
.cardFront-wands-10-ten-of-wands {
  background-image: url("/images/front-ten-of-wands.svg") !important;
}

/* Minor Arcana — Cups (explicit per-card mappings) */
.cardFront-cups-01-ace-of-cups {
  background-image: url("/images/front-ace-of-cups.svg") !important;
}
.cardFront-cups-02-two-of-cups {
  background-image: url("/images/front-two-of-cups.svg") !important;
}
.cardFront-cups-03-three-of-cups {
  background-image: url("/images/front-three-of-cups.svg") !important;
}
.cardFront-cups-04-four-of-cups {
  background-image: url("/images/front-four-of-cups.svg") !important;
}
.cardFront-cups-05-five-of-cups {
  background-image: url("/images/front-five-of-cups.svg") !important;
}
.cardFront-cups-06-six-of-cups {
  background-image: url("/images/front-six-of-cups.svg") !important;
}
.cardFront-cups-07-seven-of-cups {
  background-image: url("/images/front-seven-of-cups.svg") !important;
}
.cardFront-cups-08-eight-of-cups {
  background-image: url("/images/front-eight-of-cups.svg") !important;
}
.cardFront-cups-09-nine-of-cups {
  background-image: url("/images/front-nine-of-cups.svg") !important;
}
.cardFront-cups-10-ten-of-cups {
  background-image: url("/images/front-ten-of-cups.svg") !important;
}

/* Minor Arcana — Swords (explicit per-card mappings) */
.cardFront-swords-01-ace-of-swords {
  background-image: url("/images/front-ace-of-swords.svg") !important;
}
.cardFront-swords-02-two-of-swords {
  background-image: url("/images/front-two-of-swords.svg") !important;
}
.cardFront-swords-03-three-of-swords {
  background-image: url("/images/front-three-of-swords.svg") !important;
}
.cardFront-swords-04-four-of-swords {
  background-image: url("/images/front-four-of-swords.svg") !important;
}
.cardFront-swords-05-five-of-swords {
  background-image: url("/images/front-five-of-swords.svg") !important;
}
.cardFront-swords-06-six-of-swords {
  background-image: url("/images/front-six-of-swords.svg") !important;
}
.cardFront-swords-07-seven-of-swords {
  background-image: url("/images/front-seven-of-swords.svg") !important;
}
.cardFront-swords-08-eight-of-swords {
  background-image: url("/images/front-eight-of-swords.svg") !important;
}
.cardFront-swords-09-nine-of-swords {
  background-image: url("/images/front-nine-of-swords.svg") !important;
}
.cardFront-swords-10-ten-of-swords {
  background-image: url("/images/front-ten-of-swords.svg") !important;
}

/* Minor Arcana — Pentacles (explicit per-card mappings) */
.cardFront-pentacles-01-ace-of-pentacles {
  background-image: url("/images/front-ace-of-pentacles.svg") !important;
}
.cardFront-pentacles-02-two-of-pentacles {
  background-image: url("/images/front-two-of-pentacles.svg") !important;
}
.cardFront-pentacles-03-three-of-pentacles {
  background-image: url("/images/front-three-of-pentacles.svg") !important;
}
.cardFront-pentacles-04-four-of-pentacles {
  background-image: url("/images/front-four-of-pentacles.svg") !important;
}
.cardFront-pentacles-05-five-of-pentacles {
  background-image: url("/images/front-five-of-pentacles.svg") !important;
}
.cardFront-pentacles-06-six-of-pentacles {
  background-image: url("/images/front-six-of-pentacles.svg") !important;
}
.cardFront-pentacles-07-seven-of-pentacles {
  background-image: url("/images/front-seven-of-pentacles.svg") !important;
}
.cardFront-pentacles-08-eight-of-pentacles {
  background-image: url("/images/front-eight-of-pentacles.svg") !important;
}
.cardFront-pentacles-09-nine-of-pentacles {
  background-image: url("/images/front-nine-of-pentacles.svg") !important;
}
.cardFront-pentacles-10-ten-of-pentacles {
  background-image: url("/images/front-ten-of-pentacles.svg") !important;
}

/* Optional generic Aces (legacy) */
.cardFront-cups-ace {
  background-image: url("/images/front-ace-cups.svg") !important;
}
.cardFront-swords-ace {
  background-image: url("/images/front-ace-swords.svg") !important;
}
.cardFront-wands-ace {
  background-image: url("/images/front-ace-wands.svg") !important;
}

/* Card content overlay */
.cardContent {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: 
    linear-gradient(180deg, transparent 0%, rgba(0,0,0,0.92) 100%),
    radial-gradient(ellipse at center, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.95) 60%, transparent 100%);
  color: white;
  padding: 90px 20px 16px; /* start content below fixed title - reduced padding for more text space */
  transform: translateY(100%);
  transition: transform 0.3s ease;
  cursor: pointer;
  z-index: 10;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  height: 100%;
}

.cardFront:hover .cardContent,
.cardFront:focus .cardContent {
  transform: translateY(0);
  justify-content: flex-start; /* show content under title on hover */
}

/* Reversed card styling */
.cardFront.reversed {
  transform: rotateY(180deg);
}

/* Flip the background image vertically for reversed cards */
.cardFront.reversed {
  background-image: inherit;
  transform: rotateY(180deg) scaleY(-1);
}

.cardFront.reversed .cardContent {
  bottom: auto;
  top: 0;
  transform: translateY(-100%);
  background: 
    linear-gradient(180deg, rgba(0,0,0,0.92) 0%, transparent 100%),
    radial-gradient(ellipse at center, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.95) 60%, transparent 100%);
  justify-content: flex-end; /* anchor near visual top (CSS bottom) */
  padding: 16px 20px 70px; /* keep space above bottom-fixed title - reduced bottom padding to move content higher */
}

/* Fallback front images per suit/arcana when no specific per-card image exists */
/* Major Arcana generic */
.cardFront.suit-major {
  background-image: url("/images/front-fool.svg");
}
/* Cups generic */
.cardFront.suit-cups {
  background-image: url("/images/front-ace-cups.svg");
}
/* Swords generic */
.cardFront.suit-swords {
  background-image: url("/images/front-ace-swords.svg");
}
/* Wands generic */
.cardFront.suit-wands {
  background-image: url("/images/front-ace-wands.svg");
}
/* Pentacles generic (temporarily reuse cups image until provided) */
.cardFront.suit-pentacles {
  background-image: url("/images/front-ace-cups.svg");
}

.cardFront.reversed:hover .cardContent,
.cardFront.reversed:focus .cardContent {
  transform: translateY(0);
  justify-content: flex-end; /* reversed: content appears just under title at visual top */
}

.cardFront.reversed .cardTitle,
.cardFront.reversed .cardBody {
  transform: scaleY(-1) !important;
}

/* Mobile-friendly: always show content on mobile */
@media (max-width: 768px) {
  /* Do not auto-show overlay on mobile */
  .cardContent { height: auto; }
  .cardFront.reversed .cardContent { top: 0; }
  
  .cardFront.reversed .cardTitle,
  .cardFront.reversed .cardBody {
    transform: scaleY(-1) !important;
  }
  
  .deck .cardTitle {
    font-size: clamp(10px, 3vw, 16px) !important;
    margin: 0 0 6px;
    white-space: nowrap !important;
    overflow: visible !important;
    text-overflow: clip !important;
    width: 100% !important;
    box-sizing: border-box !important;
    padding: 0 4px !important;
  }
  
  .cardBody {
    font-size: 10px;
    line-height: 1.3;
  }

  /* Smaller, single-line fixed title on mobile */
  .deck .cardFront .cardTitleFixed {
    font-size: clamp(8px, 2.5vw, 14px) !important;
    top: 28px !important;
    padding: 0 4px !important;
    white-space: nowrap !important;
    transform: translateX(0);
    width: 100% !important;
    box-sizing: border-box !important;
    overflow: visible !important;
    text-overflow: clip !important;
  }
  .deck .cardFront.reversed .cardTitleFixed { 
    bottom: 28px !important; 
    transform: scaleY(-1) !important;
  }
}

/* Disable hover overlay on touch devices */
@media (hover: none) {
  .cardFront:hover .cardContent,
  .cardFront:focus .cardContent,
  .cardFront.reversed:hover .cardContent,
  .cardFront.reversed:focus .cardContent {
    transform: translateY(100%);
  }
  .cardContent,
  .cardFront.reversed .cardContent {
    display: none !important;
  }
}

/* Ultra-small screens: tighten title further */
@media (max-width: 360px) {
  .deck .cardFront .cardTitleFixed { 
    font-size: clamp(8px, 2vw, 12px) !important; 
  }
  
  /* Ultra-small single page */
  .singlePage .cardTitleFixed { 
    font-size: clamp(14px, 3vw, 20px) !important; 
  }
}

/* Web version spacing - ensure it applies */
@media (min-width: 769px) {
  .deck .cardFront .cardContent .cardBody {
    margin: 0 !important; /* Same as single page */
    padding: 20px 0 8px !important; /* Reduced top spacing: 20px top, 8px bottom */
  }
  
  .deck .cardFront.reversed .cardContent .cardBody {
    margin: 0 0 20px !important; /* Reduced spacing for reversed cards to match upright */
  }
  
  /* Force web deck spacing with maximum specificity */
  body:not(.is-mobile) .deck .cardFront .cardContent .cardBody {
    margin: 0 !important; /* Same as single page */
    padding: 20px 0 8px !important; /* Reduced top spacing: 20px top, 8px bottom */
  }
  
  body:not(.is-mobile) .deck .cardFront.reversed .cardContent .cardBody {
    margin: 0 0 20px !important; /* Reduced spacing for reversed cards to match upright */
  }
}

.cardTitle {
  font-weight: 600;
  font-size: 32px !important;
  margin: 0;
  text-align: center;
  text-shadow: 0 2px 4px rgba(0,0,0,0.5);
}

/* Web version card body styles */
.deck .cardFront .cardContent .cardBody {
  font-size: 18px !important; /* Reduced from 20px to 18px for better fit */
  line-height: 1.2 !important; /* Reduced from 1.3 to 1.2 for tighter line spacing */
  margin: 0 !important; /* Same as single page */
  padding: 20px 0 8px !important; /* Reduced top spacing: 20px top, 8px bottom */
  text-align: justify !important; /* Keep justify but control word spacing */
  text-justify: inter-word !important; /* Better word distribution */
  word-spacing: -0.1em !important; /* Reduced spacing reduction between words for better readability */
  letter-spacing: 0.02em !important; /* Increased letter spacing for better readability */
  white-space: normal !important; /* Allow text wrapping */
  hyphens: auto !important; /* Enable automatic hyphenation */
  overflow-wrap: break-word !important; /* Break long words if needed */
  text-shadow: 0 2px 4px rgba(0,0,0,0.8), 0 1px 2px rgba(0,0,0,0.6) !important;
  opacity: 1 !important;
  font-weight: 500 !important;
  color: var(--text) !important;
}

/* Reversed card content spacing */
.deck .cardFront.reversed .cardContent .cardBody {
  margin: 0 0 20px !important; /* Reduced spacing for reversed cards to match upright */
  text-shadow: 0 2px 4px rgba(0,0,0,0.8), 0 1px 2px rgba(0,0,0,0.6);
  opacity: 1;
  font-weight: 500;
}

.cardFront.reversed .cardTitle {
  margin: 0;
}

.actions {
  margin-top: 24px;
  display: flex;
  gap: 12px;
  align-items: center;
}

button {
  padding: 10px 14px;
  border-radius: 9999px;
  border: 1px solid rgba(255,255,255,0.12);
  background: #1a2030;
  color: var(--text);
  cursor: pointer;
  box-shadow: var(--shadow-sm);
}
button:hover { background: #222a40; }
button.primary {
  background: linear-gradient(180deg, var(--accent-2) 0%, #6f5bd7 100%);
  color: #0b0b0e;
  border: none;
  box-shadow: var(--shadow-md);
}
button.primary:hover { filter: brightness(0.98); }
button.secondary {
  background: rgba(255,255,255,0.08);
  color: var(--text);
  border: 1px solid rgba(255,255,255,0.2);
  font-size: 14px;
}
button.secondary:hover { 
  background: rgba(255,255,255,0.12);
  border-color: rgba(255,255,255,0.3);
}
button:focus-visible { outline: none; box-shadow: var(--ring); }

.helper {
  color: var(--muted);
  font-size: 12px;
}

/* Mobile modal for card details */
.mobileModalOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.95);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 50;
  backdrop-filter: blur(6px);
  overflow: hidden;
}

/* No explicit close button; tap anywhere closes */
.mobileModalCard {
  position: relative;
  width: 100vw;
  height: 100vh;
  max-width: 100vw;
  max-height: 100vh;
  border-radius: 0;
  border: none;
  box-shadow: none;
  overflow: hidden;
  transform: none !important;
  backface-visibility: visible !important;
  font-family: var(--font-serif), serif;
}

/* In modal, keep reversed text upright and anchored at top */
.mobileModalCard.reversed { transform: none !important; }
.mobileModalCard.cardFront.reversed .cardContent,
.mobileModalCard.cardFront.reversed .cardTitleFixed,
.mobileModalCard.cardFront.reversed .cardTitle,
.mobileModalCard.cardFront.reversed .cardBody { transform: none !important; }

/* Remove per-card close buttons; using global close at top-right */
/* Persist overlay content styles in modal on touch */
.mobileModalCard .cardContent,
.mobileModalCard.cardFront.reversed .cardContent {
  display: flex !important;
  transform: translateY(0) !important;
  opacity: 1 !important;
  height: 100%;
  width: 100%;
  /* Always use bottom-up gradient in modal */
  background: linear-gradient(180deg, transparent 0%, rgba(0,0,0,0.98) 100%) !important;
}

.mobileModalCard .cardTitle {
  color: #dabb67 !important;
  font-weight: 700 !important;
  margin: 0 0 8px !important;
  text-shadow: none !important;
  font-size: clamp(26px, 5.5vw, 38px) !important;
  text-align: center !important;
  white-space: nowrap !important;
  overflow: visible !important;
  text-overflow: clip !important;
  width: 100% !important;
  padding: 0 8px !important;
}

/* Additional mobile modal title styles with maximum specificity */
.mobileModalOverlay.isOpen .mobileModalCard .cardTitle {
  font-size: clamp(26px, 5.5vw, 38px) !important;
  font-weight: 700 !important;
  color: #dabb67 !important;
  margin: 0 0 8px !important;
  text-shadow: none !important;
  text-align: center !important;
  white-space: nowrap !important;
  overflow: visible !important;
  text-overflow: clip !important;
  width: 100% !important;
  padding: 0 8px !important;
}

.mobileModalOverlay.isOpen .mobileModalCard .cardTitleFixed {
  font-size: clamp(28px, 6vw, 42px) !important;
  font-weight: 700 !important;
  color: #dabb67 !important;
  position: absolute !important;
  z-index: 30 !important;
  opacity: 1 !important;
  display: block !important;
  top: calc(16px + env(safe-area-inset-top)) !important;
  bottom: auto !important;
  padding: 0 8px !important;
  text-shadow: 0 2px 6px rgba(0,0,0,0.7), 0 0 1px rgba(0,0,0,0.6) !important;
  white-space: nowrap !important;
  overflow: visible !important;
  text-overflow: clip !important;
  width: 100% !important;
  box-sizing: border-box !important;
  text-align: center !important;
}

.mobileModalCard .cardBody {
  font-size: 18px !important;
  line-height: 1.2 !important;
  margin: 0 0 8px !important;
  text-align: justify !important;
  text-justify: inter-word !important;
  word-spacing: -0.1em !important;
  letter-spacing: 0.02em !important;
  white-space: normal !important;
  hyphens: auto !important;
  overflow-wrap: break-word !important;
  text-shadow: 0 2px 4px rgba(0,0,0,0.8), 0 1px 2px rgba(0,0,0,0.6);
  opacity: 1;
  font-weight: 500;
  color: var(--text);
  padding: var(--spacing-3);
}

.mobileModalCard .cardTitleFixed {
  position: absolute !important;
  color: #dabb67 !important;
  z-index: 30 !important;
  opacity: 1 !important;
  display: block !important;
  top: calc(16px + env(safe-area-inset-top)) !important;
  bottom: auto !important;
  padding: 0 8px !important;
  font-size: clamp(28px, 6vw, 42px) !important;
  font-weight: 700 !important;
  text-shadow: 0 2px 6px rgba(0,0,0,0.7), 0 0 1px rgba(0,0,0,0.6) !important;
  white-space: nowrap !important;
  overflow: visible !important;
  text-overflow: clip !important;
  width: 100% !important;
  box-sizing: border-box !important;
  text-align: center !important;
}

.mobileModalCard.reversed .cardTitleFixed { 
  top: calc(16px + env(safe-area-inset-top)) !important; 
  bottom: auto !important; 
}
.mobileModalCard .cardContent { padding: 80px 16px 28px; justify-content: flex-start; }
.mobileModalCard.cardFront.reversed .cardContent { padding: 80px 16px 28px; justify-content: flex-start; }

@media (max-width: 768px) {
  .mobileModalOverlay.isOpen { display: flex; }
  
  /* Mobile modal title styles with higher specificity */
  .mobileModalCard .cardTitleFixed {
    font-size: clamp(28px, 6vw, 42px) !important;
    font-weight: 700 !important;
    color: #dabb67 !important;
  }
  
  .mobileModalCard .cardTitle {
    font-size: clamp(26px, 5.5vw, 38px) !important;
    font-weight: 700 !important;
    color: #dabb67 !important;
  }
  
  /* Force mobile modal styles with maximum specificity */
  .mobileModalOverlay.isOpen .mobileModalCard .cardTitle {
    font-size: clamp(26px, 5.5vw, 38px) !important;
    font-weight: 700 !important;
    color: #dabb67 !important;
  }
  
  .mobileModalOverlay.isOpen .mobileModalCard .cardTitleFixed {
    font-size: clamp(28px, 6vw, 42px) !important;
    font-weight: 700 !important;
    color: #dabb67 !important;
  }
  
  /* Mobile modal body text styles */
  .mobileModalOverlay.isOpen .mobileModalCard .cardBody {
    font-size: 18px !important;
    line-height: 1.2 !important;
    text-align: justify !important;
    text-justify: inter-word !important;
    word-spacing: -0.1em !important;
    letter-spacing: 0.02em !important;
    white-space: normal !important;
    hyphens: auto !important;
    overflow-wrap: break-word !important;
  }
}

/* Hide the original card when modal is open on single page */
body:has(.mobileModalOverlay.isOpen) .singlePage .singleColLeft .deck > .card {
  visibility: hidden !important;
}

/* Main emblem above cards */
.emblemMain {
  width: 180px;
  height: 180px;
  margin: 8px auto 18px;
  background: url("/images/sunburst-deco.svg") center/contain no-repeat;
  filter: drop-shadow(0 10px 28px rgba(0,0,0,0.38));
  opacity: 0.95;
}

/* Staggered entrance states for cards */
.card.enter {
  opacity: 0;
  transform: translateY(8px) scale(0.98);
  transition:
    opacity 320ms cubic-bezier(.2,.8,.2,1),
    transform 320ms cubic-bezier(.2,.8,.2,1);
}
.card.entered {
  opacity: 1;
  transform: translateY(0) scale(1);
}

/* Respect user's reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  .card.enter, .card.entered, .card .cardInner {
    transition: none !important;
    transform: none !important;
  }
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .nav {
    padding: 10px 12px;
    gap: 12px;
  }

  .langLabel { display: none; }

  .container {
    padding: 14px 12px 24px;
  }

  .deck {
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 12px;
  }

  .card {
    border-radius: 12px;
  }

  .cardTitle {
    font-size: clamp(18px, 3.5vw, 24px);
    padding: 8px 10px;
    white-space: nowrap;
    overflow: visible;
    text-overflow: clip;
    width: 100%;
    box-sizing: border-box;
  }

  .cardBody {
    font-size: 20px;
    padding: 12px;
    font-weight: 500;
    text-shadow: 0 2px 4px rgba(0,0,0,0.8), 0 1px 2px rgba(0,0,0,0.6);
    opacity: 1;
  }



  .actions {
    gap: 10px;
    flex-wrap: wrap;
  }

  button {
    padding: 9px 12px;
    font-size: 14px;
  }
}

@media (max-width: 520px) {
  .deck {
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 12px;
  }

  /* Keep header visible on mobile */
  .siteHeader { position: sticky; top: 0; z-index: 10; }

  h1 { font-size: var(--h1-size-mobile); }
  p  { font-size: var(--p-size-mobile); }
  
  /* Medium-small screens: adjust title sizes */
  .cardTitleFixed {
    font-size: clamp(13px, 2.8vw, 19px) !important;
    white-space: nowrap !important;
    overflow: visible !important;
    text-overflow: clip !important;
    width: 100% !important;
    box-sizing: border-box !important;
  }
  
  .singlePage .cardTitleFixed {
    font-size: clamp(15px, 3.5vw, 22px) !important;
  }


}

@media (max-width: 360px) {
  .deck {
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 12px;
  }

  .navLink { padding: 6px 8px; }
  
  /* Very small screens: minimal title sizing */
  .cardTitleFixed {
    font-size: clamp(11px, 2.2vw, 16px) !important;
    white-space: nowrap !important;
    overflow: visible !important;
    text-overflow: clip !important;
    width: 100% !important;
    box-sizing: border-box !important;
  }
  
  .singlePage .cardTitleFixed {
    font-size: clamp(13px, 2.8vw, 18px) !important;
  }
}

/* Final override to ensure footer shows on desktop for single pages */
@media (min-width: 769px) {
  .siteFooter {
    display: block !important;
  }
  
  /* Specific override for single pages */
  body.is-single-page .siteFooter,
  .singlePage ~ .siteFooter,
  .singlePage + .siteFooter {
    display: block !important;
  }
  
  /* Force footer to show on desktop regardless of other rules */
  footer.siteFooter,
  .siteFooter {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
  
  /* Desktop: ensure proper title sizing for 20 characters */
  .cardTitleFixed {
    font-size: clamp(var(--card-title-base), var(--card-title-scale), var(--card-title-max)) !important;
  }
  
  /* Desktop grid deck (3 cards) - responsive titles */
  .deck .cardTitleFixed {
    font-size: clamp(var(--grid-title-base), var(--grid-title-scale), var(--grid-title-max)) !important;
  }
  
  .singlePage .cardTitleFixed {
    font-size: clamp(20px, 4.5vw, 28px) !important;
  }
}

/* Ultimate footer override for desktop */
@media (min-width: 769px) {
  .siteFooter,
  footer.siteFooter,
  body .siteFooter,
  html .siteFooter {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
}

/* Large screens: optimize title sizing */
@media (min-width: 1200px) {
  .cardTitleFixed {
    font-size: clamp(var(--card-title-base), var(--card-title-scale), var(--card-title-max)) !important;
  }
  
  /* Large screen grid deck (3 cards) - responsive titles */
  .deck .cardTitleFixed {
    font-size: clamp(var(--grid-title-base), var(--grid-title-scale), var(--grid-title-max)) !important;
  }
  
  .singlePage .cardTitleFixed {
    font-size: clamp(22px, 5vw, 32px) !important;
  }
}

/* Extra large screens: responsive titles */
@media (min-width: 1400px) {
  .deck .cardTitleFixed {
    font-size: clamp(var(--grid-title-base), var(--grid-title-scale), var(--grid-title-max)) !important;
  }
}

/* Ultra large screens: responsive titles */
@media (min-width: 1600px) {
  .deck .cardTitleFixed {
    font-size: clamp(var(--grid-title-base), var(--grid-title-scale), var(--grid-title-max)) !important;
  }
}

/* Maximum large screens: responsive titles */
@media (min-width: 1800px) {
  .deck .cardTitleFixed {
    font-size: clamp(var(--grid-title-base), var(--grid-title-scale), var(--grid-title-max)) !important;
  }
}

/* Ultra maximum screens: responsive titles */
@media (min-width: 2000px) {
  .deck .cardTitleFixed {
    font-size: clamp(var(--grid-title-base), var(--grid-title-scale), var(--grid-title-max)) !important;
  }
}

/* Maximum ultra screens: responsive titles */
@media (min-width: 2400px) {
  .deck .cardTitleFixed {
    font-size: clamp(var(--grid-title-base), var(--grid-title-scale), var(--grid-title-max)) !important;
  }
}

/* Ultimate ultra screens: responsive titles */
@media (min-width: 2800px) {
  .deck .cardTitleFixed {
    font-size: clamp(var(--grid-title-base), var(--grid-title-scale), var(--grid-title-max)) !important;
  }
}

/* Maximum ultimate screens: responsive titles */
@media (min-width: 3200px) {
  .deck .cardTitleFixed {
    font-size: clamp(var(--grid-title-base), var(--grid-title-scale), var(--grid-title-max)) !important;
  }
}

/* Ultimate maximum screens: responsive titles */
@media (min-width: 3600px) {
  .deck .cardTitleFixed {
    font-size: clamp(var(--grid-title-base), var(--grid-title-scale), var(--grid-title-max)) !important;
  }
}

/* Maximum ultimate screens: responsive titles */
@media (min-width: 4000px) {
  .deck .cardTitleFixed {
    font-size: clamp(var(--grid-title-base), var(--grid-title-scale), var(--grid-title-max)) !important;
  }
}

/* Ultimate maximum screens: responsive titles */
@media (min-width: 5000px) {
  .deck .cardTitleFixed {
    font-size: clamp(var(--grid-title-base), var(--grid-title-scale), var(--grid-title-max)) !important;
  }
}

/* 
  Responsive Font System for Grid Deck Cards:
  
  How it works:
  - Base size: 18px (mobile) - increased for better readability
  - Scale factor: calc(100vw / 75) - automatically adjusts based on viewport width
  - Maximum size: 34px (large screens) - increased for better visibility
  - 20 characters always fit in card width
  - No need for individual media queries - fully responsive!
  
  CSS Variables used:
  --grid-title-base: 18px (minimum size - increased from 16px to 18px)
  --grid-title-scale: calc(100vw / 75) (responsive scaling - adjusted for larger base)
  --grid-title-max: 34px (maximum size - increased from 32px to 34px)
  
  The clamp() function ensures the font size is always between the base and max values,
  while the scale factor automatically adjusts based on the viewport width.
*/

/* CRITICAL: Force web deck spacing with maximum specificity */
.deck .cardFront .cardContent .cardBody {
  margin: 0 !important; /* Same as single page */
  padding: 20px 0 8px !important; /* Reduced top spacing: 20px top, 8px bottom */
}

.deck .cardFront.reversed .cardContent .cardBody {
  margin: 0 0 20px !important; /* Reduced spacing for reversed cards to match upright */
  margin-bottom: 38px !important; /* Force bottom margin */
}

/* EXTRA CRITICAL: Force spacing with even higher specificity */
html body .deck .cardFront .cardContent .cardBody {
  margin: 0 !important; /* Same as single page */
  padding: var(--spacing-3) 0 var(--spacing-2) !important; /* Same spacing as single page: 12px top, 8px bottom */
}

html body .deck .cardFront.reversed .cardContent .cardBody {
  margin: 0 0 20px !important; /* Reduced spacing for reversed cards to match upright */
  margin-bottom: 38px !important; /* Force bottom margin */
}

/* Share Modal Styles */
.shareModalOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 100;
  backdrop-filter: blur(8px);
  padding: 20px;
}


.shareModal {
  background: var(--card);
  border-radius: var(--radius-md);
  border: 1px solid var(--border);
  box-shadow: var(--shadow-md);
  max-width: 800px;
  width: 100%;
  max-height: 90vh;
  overflow: visible;
  position: relative;
  z-index: 2;
}

/* Add dotted background to share modal content */
.shareModal::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background-image: radial-gradient(rgba(255,255,255,0.06) 1px, transparent 1.2px);
  background-size: 14px 14px;
  border-radius: var(--radius-md);
  z-index: 1;
}

.shareModal::before {
  content: '';
  position: absolute;
  top: -30px;
  right: -30px;
  width: 120px;
  height: 120px;
  background: radial-gradient(circle, rgba(218, 187, 103, 0.3) 0%, transparent 50%);
  border-radius: 50%;
  z-index: 1;
  pointer-events: none;
}

.shareModal::after {
  content: '';
  position: absolute;
  bottom: -40px;
  left: -40px;
  width: 160px;
  height: 160px;
  background: radial-gradient(circle, rgba(139, 124, 243, 0.25) 0%, transparent 50%);
  border-radius: 50%;
  z-index: 1;
  pointer-events: none;
}

.shareModalHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 24px 16px;
  position: relative;
  z-index: 2;
}

.shareModalHeader h3 {
  margin: 0;
  font-size: var(--font-size-xl);
  color: var(--title);
}

.closeButton {
  background: none;
  border: none;
  color: var(--muted);
  font-size: 24px;
  cursor: pointer;
  padding: 4px;
  border-radius: 50%;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
}

.closeButton:hover {
  background: rgba(255, 255, 255, 0.1);
  color: var(--text);
}

.sharePreview {
  padding: 20px 24px;
  border-bottom: 1px solid var(--border);
  position: relative;
  z-index: 2;
}

.sharePreviewTitle {
  font-size: var(--font-size-lg);
  font-weight: 600;
  color: var(--title);
  margin-bottom: 8px;
}

.sharePreviewDate {
  color: var(--muted);
  font-size: var(--font-size-sm);
  margin-bottom: 16px;
}

.sharePreviewCards {
  display: flex;
  gap: 12px;
  justify-content: center;
  margin-bottom: 16px;
}

.sharePreviewCards.singleCard {
  justify-content: center;
}

.sharePreviewCard {
  text-align: center;
  flex: 1;
  max-width: 320px;
}

.sharePreviewCards.singleCard .sharePreviewCard {
  flex: none;
  max-width: 200px;
}

.shareCardImage {
  position: relative;
  margin-bottom: 8px;
}

.shareCardImage img {
  width: 240px;
  height: 240px;
  object-fit: contain;
  border-radius: 8px;
}

.shareCardReversed {
  position: absolute;
  top: 4px;
  right: 4px;
  background: var(--accent);
  color: #0b0b0e;
  font-size: 10px;
  padding: 2px 6px;
  border-radius: 4px;
  font-weight: 600;
}

.shareCardName {
  position: absolute;
  left: 0;
  right: 0;
  top: 30px;
  padding: 0 10px;
  color: #dabb67;
  text-align: center;
  text-shadow: none;
  z-index: 11;
  font-family: var(--font-serif), serif;
  font-size: clamp(10px, 1.8vw, 14px);
  font-weight: 700;
  line-height: 1.1;
  white-space: nowrap;
  overflow: visible;
  text-overflow: clip;
  width: 100%;
  box-sizing: border-box;
}

.shareOptions {
  padding: 20px 24px;
  display: flex;
  justify-content: center;
  gap: 12px;
  flex-wrap: wrap;
  position: relative;
  z-index: 2;
}

.shareOption {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 12px;
  border-radius: 9999px;
  border: 1px solid rgba(255,255,255,0.2);
  background: rgba(255,255,255,0.08);
  color: var(--text);
  cursor: pointer;
  transition: all 0.2s ease;
  width: 48px;
  height: 48px;
  min-width: 48px;
}

.shareOption:hover {
  background: rgba(255,255,255,0.12);
  border-color: rgba(255,255,255,0.3);
}

.shareOption svg {
  width: 20px;
  height: 20px;
  flex-shrink: 0;
}

.shareOption.telegram:hover {
  background: rgba(0, 136, 204, 0.2);
  border-color: #0088cc;
}

.shareOption.facebook:hover {
  background: rgba(66, 103, 178, 0.2);
  border-color: #4267b2;
}

.shareOption.twitter:hover {
  background: rgba(29, 161, 242, 0.2);
  border-color: #1da1f2;
}

.shareOption.instagram:hover {
  background: linear-gradient(45deg, rgba(225, 48, 108, 0.2), rgba(245, 96, 64, 0.2));
  border-color: #e1306c;
}

.shareOption.copyLink:hover {
  background: rgba(34, 197, 94, 0.2);
  border-color: #22c55e;
}

.shareOption.copyLink.copied {
  background: rgba(34, 197, 94, 0.3);
  border-color: #22c55e;
  color: #22c55e;
}

.shareOption.downloadImage:hover {
  background: rgba(168, 85, 247, 0.2);
  border-color: #a855f7;
}

.shareOption:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.shareWebsite {
  color: #dabb67;
  font-family: var(--font-serif), serif;
  font-size: 14px;
  font-weight: 400;
  letter-spacing: 1px;
  text-align: center;
  margin-top: 8px;
}

/* Shared Deck Styles - Now uses main page styles */

/* Ensure shared single card page has same spacing as regular single page */
@media (max-width: 768px) {
  .singlePage .singleColLeft .actions {
    margin-top: 24px !important;
  }
  
  /* Ensure shared single card page has same positioning as regular single page */
  .singlePage {
    margin: -8px 0 0 -7px !important;
    padding: 8px 8px calc(20px + env(safe-area-inset-bottom)) 8px !important;
    justify-content: flex-start !important;
    align-items: flex-start !important;
    text-align: left !important;
  }
  
  /* Ensure shared single card page container has same treatment */
  main.container:has(.singlePage) {
    padding-bottom: 24px !important;
    min-height: calc(100dvh - var(--header-h) - var(--footer-h)) !important;
    display: flex !important;
    flex-direction: column !important;
  }
}

/* Style the shared deck button to match main page buttons */
.actions .primary {
  background: linear-gradient(180deg, var(--accent-2) 0%, #6f5bd7 100%);
  color: #0b0b0e;
  border: none;
  box-shadow: var(--shadow-md);
  text-decoration: none;
  display: inline-block;
  padding: 10px 14px;
  border-radius: 9999px;
  font-weight: 500;
  font-size: 14px;
  transition: all 0.2s ease;
  cursor: pointer;
}

.actions .primary:hover {
  filter: brightness(0.98);
}

.actions .helper {
  color: var(--muted);
  font-size: 12px;
  text-decoration: none;
  transition: color 0.2s ease;
}

.actions .helper:hover {
  color: var(--text);
}

/* Shared deck labels - ensure they're visible on front of cards */
.sharedDeckLabel {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 14px !important;
  text-align: center;
  color: var(--accent);
  font-family: var(--font-serif), serif;
  font-weight: 400;
  letter-spacing: 1px;
  text-transform: uppercase;
  font-size: clamp(9px, 2.6vw, 13px);
  text-shadow: 0 1px 2px rgba(0,0,0,0.4);
  opacity: 0.9;
  pointer-events: none;
  z-index: 10;
}

/* Shared deck labels - upright cards show label at bottom */
.sharedDeckLabel {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 14px;
  text-align: center;
  color: var(--accent);
  font-family: var(--font-serif), serif;
  font-weight: 400;
  letter-spacing: 1px;
  text-transform: uppercase;
  font-size: clamp(9px, 2.6vw, 13px);
  text-shadow: 0 1px 2px rgba(0,0,0,0.4);
  opacity: 0.9;
  pointer-events: none;
  z-index: 10;
}

/* Reversed cards show label at top */
.card.reversed .sharedDeckLabel,
.cardFront.reversed .sharedDeckLabel,
.deck .cardFront.reversed .sharedDeckLabel {
  bottom: auto !important;
  top: 14px !important;
  position: absolute !important;
  /* Counter-rotate the label to appear right-side up on reversed cards */
  transform: scaleY(-1) !important;
  /* Force normal text orientation */
  writing-mode: horizontal-tb !important;
  text-orientation: mixed !important;
  direction: ltr !important;
  backface-visibility: visible !important;
}



/* Loading and Error States */
.loadingContainer,
.errorContainer {
  text-align: center;
  padding: 60px 20px;
  min-height: 60vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.loadingSpinner {
  width: 40px;
  height: 40px;
  border: 3px solid var(--border);
  border-top: 3px solid var(--accent);
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: 20px;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.errorContainer h1 {
  color: #ef4444;
  margin-bottom: 16px;
}

.errorContainer p {
  color: var(--muted);
  margin-bottom: 24px;
  max-width: 500px;
}

.backToHomeButton {
  background: var(--accent-2);
  color: #0b0b0e;
  padding: 10px 20px;
  border-radius: 9999px;
  text-decoration: none;
  font-weight: 600;
  transition: all 0.2s ease;
}

.backToHomeButton:hover {
  background: #7c3aed;
  transform: translateY(-1px);
}

/* Responsive Design */
@media (max-width: 768px) {
  .shareModal {
    margin: 10px;
    max-height: calc(100vh - 20px);
    max-width: calc(100vw - 20px);
  }
  
  /* Prevent mobile browser URL bar from hiding during copy operations */
  .shareModal .shareOption.copyLink {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
    -webkit-touch-callout: none;
    -webkit-user-drag: none;
  }
  
  /* Mobile-specific styling for all share options */
  .shareModal .shareOption {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
    -webkit-touch-callout: none;
    -webkit-user-drag: none;
  }
  
  /* Ensure Telegram button works on mobile */
  .shareModal .shareOption.telegram {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
    -webkit-touch-callout: none;
    -webkit-user-drag: none;
  }
  
  .shareModal .shareOption.telegram:active {
    transform: scale(0.95);
    transition: transform 0.1s ease;
  }
  
  /* Ensure copy button works on mobile by preventing viewport changes */
  .shareModal .shareOption.copyLink:active {
    transform: none;
    transition: none;
    background: rgba(34, 197, 94, 0.3) !important;
  }
  
  /* Mobile-specific copy button styling */
  .shareModal .shareOption.copyLink.copied {
    background: rgba(34, 197, 94, 0.4) !important;
    border-color: #22c55e !important;
    color: #22c55e !important;
    animation: copySuccess 0.3s ease-in-out;
  }
  
  @keyframes copySuccess {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
  }
  
  /* Mobile fallback URL input */
  .mobileUrlFallback {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: var(--card);
    border: 2px solid var(--accent);
    border-radius: var(--radius-md);
    padding: 20px;
    z-index: 1000;
    max-width: 90vw;
    width: 400px;
    box-shadow: var(--shadow-md);
  }
  
  .mobileUrlFallback p {
    margin: 0 0 12px;
    color: var(--text);
    font-size: 14px;
  }
  
  .mobileUrlFallback .urlInput {
    width: 100%;
    padding: 8px 12px;
    border: 1px solid var(--border);
    border-radius: var(--radius-sm);
    background: rgba(255, 255, 255, 0.05);
    color: var(--text);
    font-size: 12px;
    font-family: monospace;
    margin-bottom: 12px;
  }
  
  .mobileUrlFallback .closeFallback {
    position: absolute;
    top: 8px;
    right: 8px;
    background: none;
    border: none;
    color: var(--muted);
    font-size: 20px;
    cursor: pointer;
    padding: 4px;
  }
  
  .shareModalHeader {
    padding: 16px 20px 12px;
  }
  
  .sharePreview {
    padding: 16px 20px;
  }
  
  .shareOptions {
    padding: 16px 20px;
    gap: 8px;
  }
  
  .sharePreviewCards {
    gap: 8px;
  }
  
  .sharePreviewCards.singleCard {
    justify-content: center;
  }
  
  .sharePreviewCard {
    max-width: 100px;
  }
  
  .sharePreviewCards.singleCard .sharePreviewCard {
    flex: none;
    max-width: 120px;
  }
  
  .shareCardImage {
    position: relative !important;
    width: 80px !important;
    height: 120px !important;
  }
  
  .shareCardImage img {
    width: 80px;
    height: 120px;
  }
  
  .shareCardName {
    position: absolute !important;
    top: 15px !important;
    left: 0 !important;
    right: 0 !important;
    width: 100% !important;
    font-size: clamp(6px, 1.5vw, 10px) !important;
    text-align: center !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    padding: 0 2px !important;
    box-sizing: border-box !important;
  }
  
  .shareWebsite {
    font-size: 12px;
  }
  
  .sharedDeckHeader h1 {
    font-size: var(--h1-size-mobile);
  }
  
  .sharedDeckInfo {
    flex-direction: column;
    gap: 12px;
  }
}

/* CRITICAL: Force single page alignment - highest priority */
@media (max-width: 768px) {
  /* Target the specific deck with inline style */
  .singlePage .singleColLeft .deck[style*="height"] > .card {
    left: 0 !important;
    margin-left: 0 !important;
    position: relative !important;
    transform: translateX(0) !important;
  }
  
  .singlePage .singleColLeft .actions {
    left: 0 !important;
    padding-left: 0 !important;
    position: relative !important;
    transform: translateX(0) !important;
  }
  
  /* Also target the deck container */
  .singlePage .singleColLeft .deck[style*="height"] {
    padding-left: 0 !important;
    margin-left: 0 !important;
    justify-content: flex-start !important;
  }
  
  /* ULTIMATE OVERRIDE: Force card alignment with maximum specificity */
  body .singlePage .singleColLeft .deck > .card {
    left: 0 !important;
    margin-left: 0 !important;
    margin-right: auto !important;
    position: relative !important;
    transform: translateX(0) !important;
    float: none !important;
    clear: none !important;
    align-self: flex-start !important;
    justify-self: flex-start !important;
  }
  
  /* Force deck container to not center its content */
  body .singlePage .singleColLeft .deck {
    display: flex !important;
    justify-content: flex-start !important;
    align-items: flex-start !important;
    padding-left: 0 !important;
    margin-left: 0 !important;
    width: 100% !important;
  }
  
  /* Force the card to be the first item and align to the left */
  body .singlePage .singleColLeft .deck > .card:first-child {
    order: -1 !important;
    align-self: flex-start !important;
    justify-self: flex-start !important;
  }
  
  /* FINAL OVERRIDE: Force card to align with title using absolute positioning */
  .singlePage .singleColLeft .deck > .card {
    position: relative !important;
    left: 0 !important;
    right: auto !important;
    margin-left: 0 !important;
    margin-right: auto !important;
    transform: translateX(0) !important;
    float: none !important;
    clear: none !important;
    display: block !important;
    width: 100% !important;
    max-width: 75vw !important;
  }
  
  /* ULTIMATE FINAL OVERRIDE: Force alignment with maximum specificity */
  html body .singlePage .singleColLeft .deck > .card {
    left: 0 !important;
    margin-left: 0 !important;
    margin-right: auto !important;
    position: relative !important;
    transform: translateX(0) !important;
    width: 100% !important;
    max-width: 75vw !important;
    align-self: flex-start !important;
    justify-self: flex-start !important;
  }
  
  /* NUCLEAR OPTION: Force alignment with !important on everything */
  .singlePage .singleColLeft .deck > .card {
    left: 0 !important;
    margin-left: 0 !important;
    margin-right: auto !important;
    position: relative !important;
    transform: translateX(0) !important;
    width: 100% !important;
    max-width: 75vw !important;
    align-self: flex-start !important;
    justify-self: flex-start !important;
    float: none !important;
    clear: none !important;
    display: block !important;
  }
  
  /* FINAL NUCLEAR OPTION: Force alignment with maximum specificity */
  html body .singlePage .singleColLeft .deck > .card {
    left: 0 !important;
    margin-left: 0 !important;
    margin-right: auto !important;
    position: relative !important;
    transform: translateX(0) !important;
    width: 100% !important;
    max-width: 75vw !important;
    align-self: flex-start !important;
    justify-self: flex-start !important;
    float: none !important;
    clear: none !important;
    display: block !important;
  }
}

/* SEO Content Section Styling - Bottom, Less Prominent */
.seo-content-bottom {
  color: var(--muted);
  line-height: 1.5;
  margin: 4rem auto 2rem;
  max-width: 700px;
  padding: 0 1rem;
  opacity: 0.8;
}

.seo-content-bottom h2 {
  color: var(--muted);
  font-size: var(--font-size-lg);
  font-weight: 500;
  margin-bottom: 0.75rem;
  margin-top: 1.5rem;
}

.seo-content-bottom h3 {
  color: var(--muted);
  font-size: var(--font-size-base);
  font-weight: 500;
  margin-bottom: 0.5rem;
  margin-top: 1rem;
}

.seo-content-bottom p {
  margin-bottom: 0.75rem;
  font-size: var(--font-size-sm);
}

.seo-content-bottom ul {
  margin-bottom: 0.75rem;
  padding-left: 1rem;
}

.seo-content-bottom li {
  margin-bottom: 0.25rem;
  font-size: var(--font-size-sm);
}

.seo-content-bottom strong {
  color: var(--accent);
  font-weight: 500;
}

@media (max-width: 768px) {
  .seo-content-bottom {
    padding: 0 0.5rem;
    margin: 3rem auto 1.5rem;
  }
  
  .seo-content-bottom h2 {
    font-size: var(--font-size-base);
  }
  
  .seo-content-bottom h3 {
    font-size: var(--font-size-sm);
  }
  
  .seo-content-bottom p,
  .seo-content-bottom li {
    font-size: var(--font-size-xs);
  }
}

